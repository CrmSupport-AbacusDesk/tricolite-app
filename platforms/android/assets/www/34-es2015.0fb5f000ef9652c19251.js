(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{EQxR:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class o{}var t=e("pMnS"),i=e("oBZk"),r=e("ZZ/e"),a=e("SVse"),s=e("iInd"),c=e("mrSG"),d=e("+AJq"),m=e("nfSX");class g{constructor(l,n,e,u,o){this.router=l,this.formBuilder=n,this.alertCtrl=e,this.dbService=u,this.push=o,this.dashboardData={},this.profileData={}}ngOnInit(){this.notification(),this.onGetDashboardDataHandler()}onGetDashboardDataHandler(){return c.b(this,void 0,void 0,(function*(){console.log("hello"),this.dbService.onPostRequestHandler({},"dashboard/onGetDashboardData").subscribe(l=>{console.log(l),this.dashboardData=l,console.log(this.dashboardData)})}))}onLogoutHandler(){return c.b(this,void 0,void 0,(function*(){const l=yield this.alertCtrl.create({header:"Confirm",message:"Are You Sure, You Want To Logout ?",buttons:[{text:"No",role:"cancel",handler:()=>{console.log("No clicked")}},{text:"Yes",handler:()=>{console.log("Yes clicked"),localStorage.removeItem("loginData"),this.router.navigate(["/loginType"]),this.dbService.presentToast("Logout Successful!")}}]});yield l.present()}))}onGetProfileDataHandler(){this.dbService.onPostRequestHandler({},"login/onGetLoginUserCompleteDetail").subscribe(l=>{console.log(l),this.profileData=l.loginData})}ionViewDidEnter(){console.log("notification"),this.onGetDashboardDataHandler(),this.onGetProfileDataHandler()}ionViewWillEnter(){this.notification()}GoToProfile(){this.router.navigateByUrl("/customer/home/profile")}GoToCallRequest(){this.router.navigateByUrl("/customer/home/callrequest")}GoToDocuments(){this.router.navigateByUrl("/customer/home/mydocuments")}notification(){console.log("bhanu 12345");const l=JSON.parse(localStorage.getItem("loginData"));console.log(l),this.push.hasPermission().then(l=>{l.isEnabled?console.log("We have permission to send push notifications"):console.log("We do not have permission to send push notifications")});const n=this.push.init({android:{senderID:"590596859248"},ios:{alert:"true",badge:!0,sound:!0},windows:{},browser:{pushServiceURL:"http://push.api.phonegap.com/v1/push"}});n.on("notification").subscribe(l=>console.log("Received a notification",l)),n.on("registration").subscribe(n=>{console.log("Device registered",n),this.dbService.onPostRequestHandler({id:l.loginId,registration_id:n.registrationId},"task/update_token").subscribe(l=>{console.log(l)})}),n.on("error").subscribe(l=>console.error("Error with Push plugin",l))}GoToEscalation(){this.router.navigateByUrl("/customer/escalationdetail")}}var f=e("s7LF"),h=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function p(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"div",[["class","cs-icon"]],null,null,null,null,null))],null,null)}function b(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[["class","cs-thumb"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var e=n.component;l(n,1,0,u["\u0275inlineInterpolate"](1,"",e.dbService.customerDocURL+e.profileData.image_url,""))}))}function v(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,6,"div",[["class","info"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,5,"ion-text",[["color","light"]],null,null,null,i.tb,i.H)),u["\u0275did"](2,49152,null,0,r.yb,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{color:[0,"color"]},null),(l()(),u["\u0275ted"](3,0,["",""])),(l()(),u["\u0275eld"](4,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](5,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](6,null,["",""]))],(function(l,n){l(n,2,0,"light")}),(function(l,n){var e=n.component;l(n,3,0,e.dashboardData.loginData.company_name),l(n,6,0,e.dashboardData.loginData.cust_code)}))}function R(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,54,"ion-content",[],null,null,null,i.R,i.f)),u["\u0275did"](1,49152,null,0,r.v,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275eld"](2,0,null,0,16,"div",[["class","dashboard_cnt"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,15,"div",[["class","cs-header pb0"],["padding",""]],null,null,null,null,null)),u["\u0275did"](4,16384,null,0,r.f,[u.ElementRef],null,null),(l()(),u["\u0275eld"](5,0,null,null,5,"div",[["class","logo"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,0,"img",[["alt",""],["src","assets/img/logo.jpg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,3,"ion-button",[["class","w45 h45 font14 mr5"],["color","danger"],["fill","clear"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onLogoutHandler()&&u),u}),i.N,i.b)),u["\u0275did"](8,49152,null,0,r.l,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),u["\u0275eld"](9,0,null,0,1,"ion-icon",[["name","power"]],null,null,null,i.X,i.l)),u["\u0275did"](10,49152,null,0,r.D,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{name:[0,"name"]},null),(l()(),u["\u0275eld"](11,0,null,null,7,"div",[["class","profile-segment mt16"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.GoToProfile()&&u),u}),null,null)),(l()(),u["\u0275eld"](12,0,null,null,4,"div",[["class","pr-icon"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,p)),u["\u0275did"](14,16384,null,0,a.k,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,b)),u["\u0275did"](16,16384,null,0,a.k,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,v)),u["\u0275did"](18,16384,null,0,a.k,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](19,0,null,0,23,"div",[["class","dashboard_container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](20,0,null,null,22,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,2,"a",[["class","center-btn"]],[[8,"href",4]],null,null,null,null)),(l()(),u["\u0275eld"](22,0,null,null,0,"img",[["alt",""],["src","assets/img/e-call.svg"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Emergency Contact "])),(l()(),u["\u0275eld"](24,0,null,null,18,"div",[["class","grid-btn"]],null,null,null,null,null)),(l()(),u["\u0275eld"](25,0,null,null,4,"button",[["routerLink","/customer/request"]],null,[[null,"click"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==u["\u0275nov"](l,26).onClick()&&o),"click"===n&&(o=!1!==u["\u0275nov"](l,27).onClick(e)&&o),o}),null,null)),u["\u0275did"](26,16384,null,0,s.n,[s.m,s.a,[8,null],u.Renderer2,u.ElementRef],{routerLink:[0,"routerLink"]},null),u["\u0275did"](27,737280,null,0,r.Pb,[a.h,r.Jb,u.ElementRef,s.m,[2,s.n]],null,null),(l()(),u["\u0275eld"](28,0,null,null,0,"img",[["alt",""],["src","assets/img/info.svg"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Service Request "])),(l()(),u["\u0275eld"](30,0,null,null,4,"button",[["routerLink","/customer/request"]],null,[[null,"click"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==u["\u0275nov"](l,31).onClick()&&o),"click"===n&&(o=!1!==u["\u0275nov"](l,32).onClick(e)&&o),o}),null,null)),u["\u0275did"](31,16384,null,0,s.n,[s.m,s.a,[8,null],u.Renderer2,u.ElementRef],{routerLink:[0,"routerLink"]},null),u["\u0275did"](32,737280,null,0,r.Pb,[a.h,r.Jb,u.ElementRef,s.m,[2,s.n]],null,null),(l()(),u["\u0275eld"](33,0,null,null,0,"img",[["alt",""],["src","assets/img/gear.svg"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Commissioning Request "])),(l()(),u["\u0275eld"](35,0,null,null,2,"button",[],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.GoToCallRequest()&&u),u}),null,null)),(l()(),u["\u0275eld"](36,0,null,null,0,"img",[["alt",""],["src","assets/img/call.svg"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Send Call Request "])),(l()(),u["\u0275eld"](38,0,null,null,4,"button",[],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.GoToDocuments()&&u),u}),null,null)),(l()(),u["\u0275eld"](39,0,null,null,0,"img",[["alt",""],["src","assets/img/document.svg"]],null,null,null,null,null)),(l()(),u["\u0275eld"](40,0,null,null,2,"ion-text",[],null,null,null,i.tb,i.H)),u["\u0275did"](41,49152,null,0,r.yb,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275ted"](-1,0,[" View Document"])),(l()(),u["\u0275eld"](43,0,null,0,10,"div",[["class","cs-btn"]],null,null,null,null,null)),(l()(),u["\u0275eld"](44,0,null,null,9,"ion-button",[["class","after-img"],["fill","clear"],["routerLink","/customer/customer-center"]],null,[[null,"click"]],(function(l,n,e){var o=!0;return"click"===n&&(o=!1!==u["\u0275nov"](l,46).onClick()&&o),"click"===n&&(o=!1!==u["\u0275nov"](l,47).onClick(e)&&o),o}),i.N,i.b)),u["\u0275did"](45,49152,null,0,r.l,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{fill:[0,"fill"]},null),u["\u0275did"](46,16384,null,0,s.n,[s.m,s.a,[8,null],u.Renderer2,u.ElementRef],{routerLink:[0,"routerLink"]},null),u["\u0275did"](47,737280,null,0,r.Pb,[a.h,r.Jb,u.ElementRef,s.m,[2,s.n]],null,null),(l()(),u["\u0275eld"](48,0,null,0,3,"div",[["class","figure"]],null,null,null,null,null)),(l()(),u["\u0275eld"](49,0,null,null,2,"ion-text",[],null,null,null,i.tb,i.H)),u["\u0275did"](50,49152,null,0,r.yb,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275ted"](-1,0,["ESCALATION MATRIX"])),(l()(),u["\u0275eld"](52,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["arrow_right_alt"])),(l()(),u["\u0275eld"](54,0,null,0,0,"div",[["class","h40"]],null,null,null,null,null)),(l()(),u["\u0275eld"](55,0,null,null,4,"ion-fab",[["horizontal","end"],["size","small"],["slot","fixed"],["style","display: none;"],["vertical","bottom"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.GoToEscalation()&&u),u}),i.U,i.h)),u["\u0275did"](56,49152,null,0,r.x,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),u["\u0275eld"](57,0,null,0,2,"ion-fab-button",[["class","h50 w50 transparent"]],null,null,null,i.T,i.i)),u["\u0275did"](58,49152,null,0,r.y,[u.ChangeDetectorRef,u.ElementRef,u.NgZone],null,null),(l()(),u["\u0275eld"](59,0,null,0,0,"img",[["src","assets/img/details.svg"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,8,0,"danger","clear"),l(n,10,0,"power"),l(n,14,0,!e.profileData.image_url),l(n,16,0,e.profileData.image_url),l(n,18,0,e.dashboardData&&e.dashboardData.loginData),l(n,26,0,"/customer/request"),l(n,27,0),l(n,31,0,"/customer/request"),l(n,32,0),l(n,45,0,"clear"),l(n,46,0,"/customer/customer-center"),l(n,47,0),l(n,56,0,"end","bottom")}),(function(l,n){l(n,21,0,u["\u0275inlineInterpolate"](1,"tel: ",n.component.dashboardData.customerEmergencyNumber,""))}))}function D(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,R,h)),u["\u0275did"](1,114688,null,0,g,[s.m,f.b,r.b,d.a,m.a],null,null)],(function(l,n){l(n,1,0)}),null)}var k=u["\u0275ccf"]("app-home",g,D,{},{},[]);class C{}e.d(n,"HomePageModuleNgFactory",(function(){return E}));var E=u["\u0275cmf"](o,[],(function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[t.a,k]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,a.m,a.l,[u.LOCALE_ID,[2,a.z]]),u["\u0275mpd"](4608,f.s,f.s,[]),u["\u0275mpd"](4608,r.c,r.c,[u.NgZone,u.ApplicationRef]),u["\u0275mpd"](4608,r.Ib,r.Ib,[r.c,u.ComponentFactoryResolver,u.Injector]),u["\u0275mpd"](4608,r.Nb,r.Nb,[r.c,u.ComponentFactoryResolver,u.Injector]),u["\u0275mpd"](1073742336,a.b,a.b,[]),u["\u0275mpd"](1073742336,f.r,f.r,[]),u["\u0275mpd"](1073742336,f.e,f.e,[]),u["\u0275mpd"](1073742336,r.Fb,r.Fb,[]),u["\u0275mpd"](1073742336,s.p,s.p,[[2,s.u],[2,s.m]]),u["\u0275mpd"](1073742336,C,C,[]),u["\u0275mpd"](1073742336,o,o,[]),u["\u0275mpd"](1024,s.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);