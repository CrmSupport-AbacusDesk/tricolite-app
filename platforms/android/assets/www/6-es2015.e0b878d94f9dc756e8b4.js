(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{f5yr:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{}var s=t("pMnS"),o=t("oBZk"),a=t("ZZ/e"),i=t("SVse"),d=t("s7LF"),r=t("mrSG"),c=t("Hx2x"),h=t("+AJq");class m{constructor(l,n,t,e,u,s,o){this.popoverController=l,this.router=n,this.location=t,this.routeParams=e,this.alertCtrl=u,this.toastCtrl=s,this.dbService=o,this.taskId="",this.taskNo="",this.taskStatus="",this.statusOptionList=[],this.taskStatusList=[],this.routeTitleForView="",this.data={},this.routeTitleForView=localStorage.getItem("routeTitleForView"),this.routeParams.params.subscribe(l=>{console.log(l),this.taskId=l.taskId,this.taskNo=l.taskNo,this.taskStatus=l.taskStatus,console.log(this.taskId),console.log(this.taskNo),console.log(this.taskStatus),this.onGetTaskStatusDataHandler(),this.onGetTaskOptionDataHandler()})}ngOnInit(){}onSaveStatusDataHandler(){return r.b(this,void 0,void 0,(function*(){if(this.data.status){if(-1!=this.taskStatusList.findIndex(l=>l.status==this.data.status))return this.dbService.onShowAlertMessage("Error","Status Already Added!"),!1;const l=yield this.alertCtrl.create({header:"Confirm",message:"Are You Sure, You Want To Save Status ?",buttons:[{text:"No",role:"cancel",handler:()=>{console.log("No clicked")}},{text:"Yes",handler:()=>{console.log("Yes clicked");const l={taskId:this.taskId,status:this.data.status};this.dbService.presentLoader(),this.dbService.onPostRequestHandler(l,"task/onSaveTaskStatusData").subscribe(l=>{console.log(l),this.dbService.dismissLoader(),this.data.status="",this.dbService.presentToast("Status Saved Successfully!"),this.onGetTaskStatusDataHandler()})}}]});yield l.present()}else this.dbService.onShowAlertMessage("Error","Status Required!")}))}onGetTaskStatusDataHandler(){return r.b(this,void 0,void 0,(function*(){this.dbService.onPostRequestHandler({taskId:this.taskId},"task/getTaskStatusData").subscribe(l=>{console.log(l),this.taskStatusList=l.taskStatusData})}))}onGetTaskOptionDataHandler(){return r.b(this,void 0,void 0,(function*(){this.dbService.presentLoader(),this.dbService.onPostRequestHandler({taskId:this.taskId},"task/onGetStatusOptionList").subscribe(l=>{console.log(l),this.dbService.dismissLoader(),this.statusOptionList=l.statusOptionList})}))}presentPopover(l){return r.b(this,void 0,void 0,(function*(){const n={taskId:this.taskId,taskNo:this.taskNo,taskStatus:this.taskStatus},t=yield this.popoverController.create({component:c.a,event:l,translucent:!0,componentProps:n});return yield t.present()}))}GoComplaintDetail(){this.location.back()}}var p=t("iInd"),g=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function f(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"ion-select-option",[],null,null,null,o.nb,o.C)),e["\u0275did"](1,49152,null,0,a.pb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{value:[0,"value"]},null),(l()(),e["\u0275ted"](2,0,["",""]))],(function(l,n){l(n,1,0,n.context.$implicit.status)}),(function(l,n){l(n,2,0,n.context.$implicit.status)}))}function v(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","cs-btn mt16"],["text-right",""]],null,null,null,null,null)),e["\u0275did"](1,16384,null,0,a.f,[e.ElementRef],null,null),(l()(),e["\u0275eld"](2,0,null,null,2,"ion-button",[["class","success min w100"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onSaveStatusDataHandler()&&e),e}),o.N,o.b)),e["\u0275did"](3,49152,null,0,a.l,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275ted"](-1,0,["SAVE"]))],null,null)}function b(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,11,"div",[["class","figure nicon"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,10,"div",[["class","cnt-info"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,3,"div",[["class","cs-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,2,"div",[["class","names"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,["",""])),(l()(),e["\u0275eld"](6,0,null,null,5,"div",[["class","cs-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,4,"ion-text",[],null,null,null,o.tb,o.H)),e["\u0275did"](8,49152,null,0,a.yb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275eld"](9,0,null,0,1,"span",[],null,null,null,null,null)),(l()(),e["\u0275ted"](10,null,["",""])),(l()(),e["\u0275ted"](11,0,[" | ",""]))],null,(function(l,n){l(n,5,0,n.context.$implicit.status),l(n,10,0,n.context.$implicit.dateCreated),l(n,11,0,n.context.$implicit.timeCreated)}))}function k(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,5,"div",[["class","complaints product-list part-list mt20"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,2,"div",[["class","cs-heading"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Status History"])),(l()(),e["\u0275and"](16777216,null,null,1,null,b)),e["\u0275did"](5,278528,null,0,i.j,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.taskStatusList)}),null)}function S(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,42,"ion-content",[],null,null,null,o.R,o.f)),e["\u0275did"](1,49152,null,0,a.v,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275eld"](2,0,null,0,40,"div",[["class","cs-main-container"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,18,"div",[["class","custome-head"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,16,"div",[["class","cs-ion-header"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,10,"div",[["class","cs-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,3,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.GoComplaintDetail()&&e),e}),o.N,o.b)),e["\u0275did"](7,49152,null,0,a.l,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275eld"](8,0,null,0,1,"ion-icon",[["name","arrow-back"]],null,null,null,o.X,o.l)),e["\u0275did"](9,49152,null,0,a.D,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{name:[0,"name"]},null),(l()(),e["\u0275eld"](10,0,null,null,5,"ion-title",[],null,null,null,o.vb,o.J)),e["\u0275did"](11,49152,null,0,a.Bb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275ted"](12,0,["#SR-"," - "])),(l()(),e["\u0275eld"](13,0,null,0,2,"ion-text",[],null,null,null,o.tb,o.H)),e["\u0275did"](14,49152,null,0,a.yb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275ted"](-1,0,["Change Status"])),(l()(),e["\u0275eld"](16,0,null,null,4,"div",[["class","cs-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,3,"ion-button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.presentPopover(t)&&e),e}),o.N,o.b)),e["\u0275did"](18,49152,null,0,a.l,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275eld"](19,0,null,0,1,"ion-icon",[["name","more"]],null,null,null,o.X,o.l)),e["\u0275did"](20,49152,null,0,a.D,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{name:[0,"name"]},null),(l()(),e["\u0275eld"](21,0,null,null,0,"div",[["class","cs-ion-hf"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,null,null,20,"div",[["class","cs-ion-content pt0"],["padding",""]],null,null,null,null,null)),e["\u0275did"](23,16384,null,0,a.f,[e.ElementRef],null,null),(l()(),e["\u0275eld"](24,0,null,null,16,"div",[["class","common_form inner_page"]],null,null,null,null,null)),(l()(),e["\u0275eld"](25,0,null,null,13,"ion-item",[["class","cs-select"]],null,null,null,o.db,o.p)),e["\u0275did"](26,49152,null,0,a.I,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275eld"](27,0,null,0,2,"ion-label",[],null,null,null,o.eb,o.s)),e["\u0275did"](28,49152,null,0,a.O,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(l()(),e["\u0275ted"](-1,0,["Select Status"])),(l()(),e["\u0275eld"](30,0,null,0,8,"ion-select",[["placeholder","Select One"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0,s=l.component;return"ionBlur"===n&&(u=!1!==e["\u0275nov"](l,31)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==e["\u0275nov"](l,31)._handleChangeEvent(t.target)&&u),"ngModelChange"===n&&(u=!1!==(s.data.status=t)&&u),u}),o.ob,o.B)),e["\u0275did"](31,16384,null,0,a.Qb,[e.ElementRef],null,null),e["\u0275prd"](1024,null,d.i,(function(l){return[l]}),[a.Qb]),e["\u0275did"](33,671744,null,0,d.m,[[8,null],[8,null],[8,null],[6,d.i]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,d.j,null,[d.m]),e["\u0275did"](35,16384,null,0,d.k,[[4,d.j]],null,null),e["\u0275did"](36,49152,null,0,a.ob,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{placeholder:[0,"placeholder"]},null),(l()(),e["\u0275and"](16777216,null,0,1,null,f)),e["\u0275did"](38,278528,null,0,i.j,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,v)),e["\u0275did"](40,16384,null,0,i.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](42,16384,null,0,i.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,9,0,"arrow-back"),l(n,20,0,"more"),l(n,33,0,t.data.status),l(n,36,0,"Select One"),l(n,38,0,t.statusOptionList),l(n,40,0,"Close"!=t.taskStatus),l(n,42,0,t.taskStatusList&&t.taskStatusList.length>0)}),(function(l,n){l(n,12,0,n.component.taskNo),l(n,30,0,e["\u0275nov"](n,35).ngClassUntouched,e["\u0275nov"](n,35).ngClassTouched,e["\u0275nov"](n,35).ngClassPristine,e["\u0275nov"](n,35).ngClassDirty,e["\u0275nov"](n,35).ngClassValid,e["\u0275nov"](n,35).ngClassInvalid,e["\u0275nov"](n,35).ngClassPending)}))}function C(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-com-changestatus",[],null,null,null,S,g)),e["\u0275did"](1,114688,null,0,m,[a.Nb,p.m,i.g,p.a,a.b,a.Sb,h.a],null,null)],(function(l,n){l(n,1,0)}),null)}var R=e["\u0275ccf"]("app-com-changestatus",m,C,{},{},[]);class D{}t.d(n,"ComChangestatusPageModuleNgFactory",(function(){return N}));var N=e["\u0275cmf"](u,[],(function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,R]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,i.m,i.l,[e.LOCALE_ID,[2,i.z]]),e["\u0275mpd"](4608,d.s,d.s,[]),e["\u0275mpd"](4608,a.c,a.c,[e.NgZone,e.ApplicationRef]),e["\u0275mpd"](4608,a.Ib,a.Ib,[a.c,e.ComponentFactoryResolver,e.Injector]),e["\u0275mpd"](4608,a.Nb,a.Nb,[a.c,e.ComponentFactoryResolver,e.Injector]),e["\u0275mpd"](1073742336,i.b,i.b,[]),e["\u0275mpd"](1073742336,d.r,d.r,[]),e["\u0275mpd"](1073742336,d.e,d.e,[]),e["\u0275mpd"](1073742336,a.Fb,a.Fb,[]),e["\u0275mpd"](1073742336,p.p,p.p,[[2,p.u],[2,p.m]]),e["\u0275mpd"](1073742336,D,D,[]),e["\u0275mpd"](1073742336,u,u,[]),e["\u0275mpd"](1024,p.k,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);